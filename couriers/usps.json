{
  "name": "United States Postal Service",
  "courier_code": "usps",
  "tracking_numbers": [
    {
      "tracking_url": "https://m.usps.com/m/TrackConfirmAction_detail?tLabels=%s",
      "name": "USPS 20",
      "description": "20 digit USPS numbers",
      "regex": [
        "(?<SerialNumber>",
          "(?<ServiceType>([0-9]\\s*){2})(?<MailerId>([0-9]\\s*){9})(?<PackageId>([0-9]\\s*){8})",
        ")",
        "(?<CheckDigit>[0-9]\\s*)"
      ],
      "validation": {
        "checksum": {
          "name": "mod10",
          "evens_multiplier": 3,
          "odds_multiplier": 1
        }
      },
      "test_numbers": {
        "valid": [
          "03071790000523483741"
        ],
        "invalid": [
          "03071790000523483742"
        ]
      }
    },
    {
      "name": "USPS 91 (34)",
      "regex": [
        "(?:(?<RoutingApplicationId>4\\s*2\\s*0\\s*)(?<DestinationZip>([0-9]\\s*){5}))?",
        "(?<SerialNumber>",
        "(?<ApplicationIdentifier>9\\s*[12345]\\s*)?",
        "(?<SCNC>([0-9]\\s*){2})",
        "(?<ServiceType>([0-9]\\s*){3})",
        "(?<ShipperId>([0-9]\\s*){7})",
        "(?<PackageId>([0-9]\\s*){7})",
        ")",
        "(?<CheckDigit>[0-9]\\s*)"
      ],
      "validation": {
        "checksum": {
          "name": "mod10",
          "evens_multiplier": 3,
          "odds_multiplier": 1
        },
        "serial_number_format": {
          "prepend_if": {
            "matches_regex": "^(?!9[1-5]).+",
            "content": "91"
          }
        }
      },
      "tracking_url": "https://m.usps.com/m/TrackConfirmAction_detail?tLabels=%s",
      "test_numbers": {
        "valid": [
          "420100039261292700160741008384",
          "420221539101026837331000039521",
          "9261292700768711948021",
          "9261299998820821171811",
          "9261292700160741008384",
          "9274890103422546330271",
          "9101 1234 5678 9000 0000 13",
          "9261290172376608200214"
        ],
        "invalid": [
          "61299998820821171812",
          "00000000000000000000",
          "9200000000000000000000",
          "420000000000000000000000000000",
          "420000009200000000000000000000"
        ]
      }
    }
  ]
}
